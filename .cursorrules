# Radarr Safe Mover - Cursor Rules

## Project Overview
This is a Flask-based web application for safely moving movies between SSD and HDD drives with Radarr API integration.

## Tech Stack
- Backend: Python 3.11, Flask, Gunicorn
- Frontend: Vanilla JavaScript, HTML5, CSS3
- Container: Docker (v1 and v2 Compose support)
- API: Radarr API v3

## Code Style
- Python: Follow PEP 8
- Use type hints where appropriate
- Keep functions focused and single-purpose
- Add docstrings to functions
- Use meaningful variable names

## Architecture
- Single-page application (SPA)
- RESTful API endpoints
- Background thread for copy queue processing
- File-based persistence (JSON)

## Key Features
- Mobile-first responsive design
- Real-time queue status updates
- Safe file copying with ionice/nice
- SHA256 checksum verification
- Automatic Radarr updates

## Development Guidelines
1. Ensure Docker Compose v1 and v2 compatibility
2. Ensure mobile responsiveness
3. Handle errors gracefully
4. Log important operations
5. Maintain backward compatibility with existing data files

## File Structure
- app.py: Main Flask application
- templates/index.html: Single-page frontend
- data/: Runtime data (config.json, queue.json)
- docker-compose.yml: Docker Compose configuration
- start.sh: Smart startup script (detects Compose v1/v2)

## API Conventions
- Use RESTful endpoints
- Return JSON responses
- Include proper HTTP status codes
- Handle Radarr API errors gracefully

## Security Notes
- Designed for home network use
- No authentication required (local network only)
- API key stored in config.json
- Don't expose port 9696 to internet